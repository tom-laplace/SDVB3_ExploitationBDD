# Utilisation du docker-compose pour le projet blog

## Prérequis
- Docker et docker-compose doivent être installés sur la machine.
- Copier le fichier `.env.example` et le renommer en `.env` en lui passant les valeurs souhaitées.

## Installation
1. Cloner le repository du projet.
2. Se placer dans le dossier du projet.
3. Lancer la commande `docker-compose up` pour créer et lancer les conteneurs.
4. Lancer la commande `npm run prisma:migrate` pour créer la migration et créer les tables.
5. Lancer la commande `npm run seed` pour créer des données.
6. Lancer la commande `npm run build` pour build l'application.
7. Lancer la commande `npm run start` pour lancer l'application.

## Accès à l'application
- L'application est accessible à l'adresse http://localhost:{PORT}. (Le port que vous avez précisé dans le fichier .env)
- L'interface d'administration de la base de données est accessible à l'adresse http://localhost:80.

## Configuration de la base de données
- L'image Docker de PostgreSQL est utilisée pour la base de données.
- Les informations de connexion sont les suivantes :
  - Utilisateur : SDVTP_USer
  - Mot de passe : SDVTP_password
  - Nom de la base de données : blog_db
- Le port 5432 est exposé pour accéder à la base de données depuis l'hôte.

## Configuration de l'interface d'administration de la base de données
- L'image Docker de pgAdmin est utilisée pour l'interface d'administration de la base de données.
- Les informations de connexion sont les suivantes :
  - Utilisateur : admin@example.com
  - Mot de passe : admin
- Le port 80 est exposé pour accéder à l'interface d'administration depuis l'hôte.
- Ajoutez une nouvelle serveur PostgreSQL en utilisant les informations suivantes :

    - Nom : `PostgreSQL`
    - Host : `db`
    - Port : `5432`
    - Username : `SDVTP_User`
    - Password : `SDVTP_password`
    - Database : `blog_db`

- Cliquez sur "Save" pour sauvegarder le serveur.

## Gestion des volumes
- Un volume `pgdata` est créé pour stocker les données de la base de données.
- Un volume `pgadmin_data` est créé pour stocker les données de l'interface d'administration de la base de données.

## Arrêt de l'application
- Pour arrêter les conteneurs, lancer la commande `docker-compose down`.
